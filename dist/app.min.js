var MyApp=angular.module("MyApp",["ui.router"]);MyApp.config(["$stateProvider","$urlRouterProvider",function(r,t){t.otherwise("/intro"),r.state("main",{url:"/",templateUrl:"templates/main/main.html",controller:"MainController",controllerAs:"main"}).state("main.intro",{url:"intro",templateUrl:"templates/intro/intro.html",controller:"IntroController",controllerAs:"introCtrl"}).state("main.login",{url:"login",templateUrl:"templates/login/login.html"}).state("main.other",{url:"other",templateUrl:"templates/other/other.html"}).state("stuff",{url:"/stuff",templateUrl:"templates/stuff/stuff.html",controller:"StuffController",controllerAs:"stuffCtrl"})}]),MyApp.service("ApiService",["$http",function(r){this.syncMethod=function(){return 0},this.getThings=function(){return r.get("/thing").then(function(r){return r.data})["catch"](function(r){return console.error("Error ApiService getThings ",r),{}})},this.makeMove=function(t,e){return r.post("/move",t).success(function(r,t,o,n){e(r)}).error(function(r,t,e,o){console.error("Error ApiService makeMove ",r)})},this.updateBoard=function(t){return r.get("/move").success(function(r,e,o,n){t(r)}).error(function(r,t,e,o){console.error("Error ApiService updateBoard ",r)})}}]),MyApp.controller("IntroController",["$scope","ApiService",function(r,t){function e(r,t){var e="abcdefgh",o="87654321";return e.charAt(r-1)+o.charAt(t-1)}function o(r){for(var t,e=r.charAt(0),o=r.charAt(1),n="abcdefgh",a=0;a<8;a++)if(n.charAt(a)==e){t=a;break}var l=8-o;return{x:t,y:l}}function n(){a(),l("black"),l("white"),r.moveNum=1}function a(){for(var t=0;t<8;t++)for(var e=0;e<8;e++)r.board[t][e]=""}function l(t){if("black"==t||"white"==t){var e="black"==t?0:7;r.board[0][e]=r.board[7][e]="black"==t?"♜":"♖",r.board[1][e]=r.board[6][e]="black"==t?"♞":"♘",r.board[2][e]=r.board[5][e]="black"==t?"♝":"♗",r.board[3][e]="black"==t?"♛":"♕",r.board[4][e]="black"==t?"♚":"♔",e="black"==t?1:6;for(var o=0;o<8;o++)r.board[o][e]="black"==t?"♟":"♙"}}function i(){t.updateBoard(c)}function c(t){u(t.moves),r.availableMoves=t.availableMoves}function u(r){n(),r.sort(function(r,t){return r.position-t.position});for(var t=0;t<r.length;t++)s(r[t])}function s(t){var e=o(t.start),n=o(t.end),a=r.board[e.x][e.y];r.board[e.x][e.y]="",r.board[n.x][n.y]=a,r.moveNum++}r.start="",r.board=new Array(8);for(var f=0;f<8;f++)r.board[f]=new Array(8);r.availableMoves=[],i(),setInterval(i,1e3),r.clickCell=function(o,n){r.start?(sentMove=t.makeMove({start:r.start,end:e(o,n)},s),r.start=""):r.start=e(o,n)},r.chooseColor=function(t,n){var a=t%2==n%2?"square-white":"square-black";if(!r.start)return a;for(var l=-1,i=0;i<r.availableMoves.length;i++)if(r.availableMoves[i].start==r.start){if(r.start==e(t,n))return"square-selected";l=i;break}if(l==-1)return a;for(var i=0;i<r.availableMoves[l].end.length;i++){var c=o(r.availableMoves[l].end[i]);if(t-1==c.x&&n-1==c.y)return a+="-valid"}return a+="-invalid"}}]),MyApp.directive("navTop",function(){return{templateUrl:"templates/layout-directives/nav-top2.html"}}),MyApp.directive("verticalMenu",["$document","$window",function(r,t){return{templateUrl:"templates/layout-directives/vertical-menu.html",link:function(r,t,e){}}}]),MyApp.controller("LoginController",function(){}),MyApp.controller("MainController",["$scope",function(r){r.doStuff=function(){return"stuff"}}]),MyApp.controller("OtherController",["$scope",function(r){r.filter=!0,r.toggleFilter=function(){r.filter=!r.filter}}]),MyApp.controller("StuffController",function(){});
//# sourceMappingURL=app.min.js.map
